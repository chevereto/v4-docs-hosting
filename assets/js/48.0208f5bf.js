(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{376:function(t,e,a){"use strict";a.r(e);var s=a(25),r=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"php"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php"}},[t._v("#")]),t._v(" PHP")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Version")]),t._v(" "),e("th",[t._v("PHP")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("4.3")]),t._v(" "),e("td",[t._v("8.1, 8.2")])]),t._v(" "),e("tr",[e("td",[t._v("4.2")]),t._v(" "),e("td",[t._v("8.1, 8.2")])]),t._v(" "),e("tr",[e("td",[t._v("4.1")]),t._v(" "),e("td",[t._v("8.0, 8.1")])]),t._v(" "),e("tr",[e("td",[t._v("4.0")]),t._v(" "),e("td",[t._v("8.0, 8.1")])])])]),t._v(" "),e("blockquote",[e("p",[e("strong",[t._v("Note:")]),t._v(" PHP versions explicitly listed in the table above are officially supported. Using any other PHP version may result in unexpected behavior or compatibility issues.")])]),t._v(" "),e("p",[t._v("Chevereto V4 is "),e("a",{attrs:{href:"https://php.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PHP"),e("OutboundLink")],1),t._v(" software, it has been designed using:")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://chevere.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Chevere"),e("OutboundLink")],1),t._v(" packages")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://deb.sury.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PHP packages"),e("OutboundLink")],1),t._v(" from Ondřej Surý.")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.php.net/manual/en/extensions.membership.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("PHP extensions"),e("OutboundLink")],1),t._v(" provided by "),e("a",{attrs:{href:"https://pecl.php.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PECL"),e("OutboundLink")],1),t._v(".")])]),t._v(" "),e("p",[t._v("Packages and PECL provides the same convenience, but as packages are made for debian-based systems, you should prefer PECL if you don't have a debian-compatible system.")]),t._v(" "),e("h2",{attrs:{id:"resources"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#resources"}},[t._v("#")]),t._v(" Resources")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://php.net",target:"_blank",rel:"noopener noreferrer"}},[t._v("PHP Website"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://php.net/langref",target:"_blank",rel:"noopener noreferrer"}},[t._v("PHP Language reference"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://php.net/funcref",target:"_blank",rel:"noopener noreferrer"}},[t._v("PHP Function reference"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"what-it-does"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#what-it-does"}},[t._v("#")]),t._v(" What it does?")]),t._v(" "),e("p",[t._v("PHP is the programming language used to write Chevereto application instructions, it is used for everything as it provides high flexibility to alter instructions on-the-fly at a minimum system performance footprint.")]),t._v(" "),e("h2",{attrs:{id:"troubleshoot"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#troubleshoot"}},[t._v("#")]),t._v(" Troubleshoot")]),t._v(" "),e("p",[t._v("Having issues? Check the following common pitfalls:")]),t._v(" "),e("ul",[e("li",[t._v("Outdated PHP version")]),t._v(" "),e("li",[t._v("Misconfiguration in PHP libraries")]),t._v(" "),e("li",[t._v("Bad php.ini directives")]),t._v(" "),e("li",[t._v("Low execution time")]),t._v(" "),e("li",[t._v("Bad sessions setup")]),t._v(" "),e("li",[t._v("Open basedir restrictions")])]),t._v(" "),e("h2",{attrs:{id:"configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[t._v("#")]),t._v(" Configuration")]),t._v(" "),e("p",[t._v("The following "),e("code",[t._v("ini")]),t._v(" values are recommended for Chevereto installations.")]),t._v(" "),e("p",[e("strong",[t._v("Note:")]),t._v(" Check which "),e("code",[t._v("ini")]),t._v(" files are loaded at your Chevereto "),e("code",[t._v("/dashboard")]),t._v(".")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("upload_max_filesize "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" 64M"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\npost_max_size "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" 64M"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmax_execution_time "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmemory_limit "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" 512M"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("table",[e("thead",[e("tr",[e("th",[t._v("Property")]),t._v(" "),e("th",[t._v("Description")]),t._v(" "),e("th",[t._v("Example")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("upload_max_filesize")]),t._v(" "),e("td",[t._v("Maximum upload size")]),t._v(" "),e("td",[e("code",[t._v("64M")]),t._v(" for 64 MB")])]),t._v(" "),e("tr",[e("td",[t._v("post_max_size")]),t._v(" "),e("td",[t._v("Maximum post size")]),t._v(" "),e("td",[t._v("Same as above")])]),t._v(" "),e("tr",[e("td",[t._v("max_execution_time")]),t._v(" "),e("td",[t._v("Maximum time to execute the software, in seconds")]),t._v(" "),e("td",[e("code",[t._v("30")]),t._v(" for 30 seconds")])]),t._v(" "),e("tr",[e("td",[t._v("memory_limit")]),t._v(" "),e("td",[t._v("Maximum memory to allocate")]),t._v(" "),e("td",[e("code",[t._v("512M")]),t._v(" for 512 MB")])])])]),t._v(" "),e("p",[t._v("You can toggle this limits to reflect your hardware and server load. Check this article for more info: "),e("a",{attrs:{href:"http://www.php.net/manual/en/features.file-upload.common-pitfalls.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("PHP common pitfalls"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"extensions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#extensions"}},[t._v("#")]),t._v(" Extensions")]),t._v(" "),e("p",[t._v("The following PHP extensions are required for Chevereto.")]),t._v(" "),e("ul",[e("li",[t._v("curl")]),t._v(" "),e("li",[t._v("exif")]),t._v(" "),e("li",[t._v("fileinfo")]),t._v(" "),e("li",[t._v("gd")]),t._v(" "),e("li",[t._v("hash")]),t._v(" "),e("li",[t._v("imagick")]),t._v(" "),e("li",[t._v("json")]),t._v(" "),e("li",[t._v("pdo")]),t._v(" "),e("li",[t._v("pdo-mysql")]),t._v(" "),e("li",[t._v("session")]),t._v(" "),e("li",[t._v("xml")])]),t._v(" "),e("h2",{attrs:{id:"features"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#features"}},[t._v("#")]),t._v(" Features")]),t._v(" "),e("p",[t._v("Chevereto requires unrestricted access to "),e("strong",[t._v("all PHP functions")]),t._v(". Note that the following functions "),e("strong",[t._v("should not")]),t._v(" be restricted:")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.php.net/set-time-limit",target:"_blank",rel:"noopener noreferrer"}},[t._v("set_time_limit"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"image-library"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#image-library"}},[t._v("#")]),t._v(" Image library")]),t._v(" "),e("p",[t._v("The image library (GD, Imagick) should be provided with support for "),e("code",[t._v("PNG GIF JPG BMP WEBP")]),t._v(". By default, Chevereto prefers Imagick and fallback to GD.")]),t._v(" "),e("p",[t._v("If you need to explicit use GD you can pass this "),e("RouterLink",{attrs:{to:"/application/configuration/environment.html#image-handling-variables"}},[t._v("ENV")]),t._v(":")],1),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CHEVERETO_IMAGE_LIBRARY")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("gd\n")])])]),e("p",[t._v("If the server doesn't provide support for all the image formats handled by Chevereto, the ENV must reflect only the system supported formats. In the following example Chevereto is configured with explicit support only for PNG, GIF, BMP and JPG (removes WEBP):")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CHEVERETO_IMAGE_FORMATS_AVAILABLE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v('\'["JPG","PNG","BMP","GIF"]\'')]),t._v("\n")])])]),e("h3",{attrs:{id:"configuring-imagemagick"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuring-imagemagick"}},[t._v("#")]),t._v(" Configuring ImageMagick")]),t._v(" "),e("p",[t._v("Additional recommended ImageMagick configuration at "),e("code",[t._v("/etc/ImageMagick-6/policy.xml")]),t._v(" file:")]),t._v(" "),e("div",{staticClass:"language-xml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("policymap")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- policies --\x3e")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("policy")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("domain")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("resource"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("16KP"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("policy")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("domain")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("resource"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("height"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("16KP"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("policymap")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("h2",{attrs:{id:"filesystem"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#filesystem"}},[t._v("#")]),t._v(" Filesystem")]),t._v(" "),e("p",[t._v("User running "),e("code",[t._v("php")]),t._v(" must be in the "),e("strong",[t._v("owner group")]),t._v(" of the installation directory and Chevereto requires recursive "),e("strong",[t._v("read")]),t._v(" access to that directory. In addition to this, following paths require recursive "),e("strong",[t._v("read/write")]),t._v(" access:")]),t._v(" "),e("ul",[e("li",[t._v("Session path")]),t._v(" "),e("li",[t._v("Temp folder")]),t._v(" "),e("li",[t._v("./content")]),t._v(" "),e("li",[t._v("./images")]),t._v(" "),e("li",[t._v("./importing")])]),t._v(" "),e("p",[t._v("User generated content is stored at:")]),t._v(" "),e("ul",[e("li",[t._v("./images")]),t._v(" "),e("li",[t._v("./content/images/users")]),t._v(" "),e("li",[t._v("./content/pages")])]),t._v(" "),e("p",[t._v("In "),e("strong",[t._v("debian-based")]),t._v(" systems use the following command to set the right permissions in your Chevereto installation (change "),e("code",[t._v("/var/www/html")]),t._v(" to reflect your path).")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("chown")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-R")]),t._v(" www-data: /var/www/html\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);